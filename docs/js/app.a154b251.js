(function(e){function t(t){for(var a,s,o=t[0],c=t[1],u=t[2],h=0,d=[];h<o.length;h++)s=o[h],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&d.push(i[s][0]),i[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);l&&l(t);while(d.length)d.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,o=1;o<n.length;o++){var c=n[o];0!==i[c]&&(a=!1)}a&&(r.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},i={app:0},r=[];function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=c;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"224d":function(e,t,n){"use strict";var a=n("788c"),i=n.n(a);i.a},"24d2":function(e,t,n){"use strict";var a=n("a163"),i=n.n(a);i.a},"31f7":function(e,t,n){e.exports=n.p+"img/header.4d5db426.png"},"3c1a":function(e,t,n){e.exports=n.p+"img/carrot_with_shadow.1dd32ee2.png"},"5b37":function(e,t,n){},"5c0b":function(e,t,n){"use strict";var a=n("e332"),i=n.n(a);i.a},"70ce":function(e,t,n){"use strict";var a=n("8ef7"),i=n.n(a);i.a},"788c":function(e,t,n){},"894b":function(e,t,n){"use strict";var a=n("5b37"),i=n.n(a);i.a},"8ef7":function(e,t,n){},a163:function(e,t,n){},c5d4:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGUAAABlCAYAAAEjex1ZAAAACXBIWXMAAAsSAAALEgHS3X78AAAEuklEQVR4nO2cPXLUMBiGv2RSEzgBqWgDJyBULjkCYYYDUMBEJV1UUDD0DOEGKeNucwKgZYYzJOECYZyRBkd/K8mS/Np8z8wW0Vr59tnXuyvbkndub28pld3kHvN0kr0Iyg3P6212zSesrUftopM79zrpBrOj2cGqZHZ0dRhw5jSuZna4Y+jkepxenNy62oeHs9I22u0R//0Oa3UKdTTbeYd1OVXtlPXymr26/6+Q7MWR2XYvI9mLcyJ6qf927qgBzI/UuL9zZwh1cBGzvbNQbMGUFxQs5PuHJqECSYV8BVMy5A8sfqEmGTWx4SJcpB574/88+lL8KTr5NLWq7MXQ5zuFxocjDmUvflitAcYFgm+X8XUeXchR4LW3SE4hVwHRybNgkZRCMQW8RWIKxRYIFgkVSilAmQOMX0T0JLZAdBFHoegClPKJd4xWogrc4TpECj2GQ6vTi5PPoW2KHHKlwr8nXKQezUb5LWg27maZRFgGFZZBZS/0umQvHhLRlfrzUnTSOp1XG8cQ9pnopHPA7v2dMU8zjsg6OkvFITHmhejkJlqG/ENjTRWpLRIUGjkHZUYFQhsVkZoioZl0dtRg8skBD9HHMFljsxJSJSU0kwaaOVI1JDRFRs0xUjUlNEUPAbZI+ZgsoalyPBMpVUxCU/XgzCP1XnTyo9VaAD7SRIVlUGEZVFYls5qv5tWkwiJosAgaLIIGi6DBImiwCBqLEBmu96hrPl6Cw3jZi+Hc1Cv15yPRyWtro8rIXgw191WVG9FJp5A3EdmLzUhi4Grbu1IaQ2Jg3zdNzStCRM+tloYyDgnNodWyRcRHdZmAxMCN1bJF5JvV8o9qMlskKPkzIjp53FomQsK77sArQo1lpkhQzGekhcxUCYr9sNeUKSFBiTNNi8uUkqDUr9+SMiUlKOd3pIRMaQnKHTROkakhQVNGvzkytSRo6jA+RaamBBWcXHBmjJRN/hDRA6tVMVWCSl5WiJBxUkKCSh4hRuxmFqUkqPShbopMSQmqccweI1NagmqdfAjJ1JCgmmdRXDK1JIgvhgLCImiwCBosggaLoMEiaLAIGquapb0WVjXZdC1wKIBwKIBwKIBwKIBwKIBwKIBwKIBwKIBwKIBwKIBwKIBwKIAEb00Wg+zFAREdqE2vfbcNWzPq3j6fjLUgl0T0Nuf9yL1d1DCpceNb+DHciIiIjuZYLtQSFcYmNLFTrSk5SgknORTZi2G601frCTerDCcyDBPvzQdNcr6+jq0WP4dquvAqwskMQ+OczO4iJ5Qzzzq6EIsOZ2IYpO5SZt3R0kf25eDcKduKRYRTKIzkW8ZNvka/xnDmCkMz+2IHBUQ4c4ehKT6bZYnhoIShqTbFaAnhoIWhqT7vCzEc1DA0zSbjIYSDHoam+QzJOcJZShia2aattghnaWFoZp9LXCOcpYahgZngXSIcdQlhsWFo4GbdTwwnF4gwNLBLIRqFAxWGBn59SqVwIMPQLGbRUKFwoMPQLG4lV2Y4iwhDs9jldZHhfBGdfGO1grP4NY+yFx/UJerHquk3Eb0TnTy3Nl4IvBAVEJ6MBwiHAgiHAgiHAgiHAgiHAgiHAgiHAgiHAgiHAgiHAgiHggYR/QV3KLvKV9q5HQAAAABJRU5ErkJggg=="},cd49:function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[e._m(0),n("div",{staticClass:"app__info",on:{click:e.informationClickHanler}},[n("div",{staticClass:"app__info__container",class:{extended:e.showInformation}},[n("transition",{attrs:{name:"fade"}},[e.showInformation?n("div",{staticClass:"app__info__container__content"},[n("p",[e._v("Opiskelijaravintolat sivulta löydät kaikki ravintolat koko Suomesta joihin Kela myöntää ateriatukea. \n            Ravintolan merkkiä klikkaamalla näet kyseisen ravintolat lounaslistan sekä aukioloajat. \n            Rajapintojen puutteiden vuoksi joidenkin ravintoloiden ruokalistoja tai lounasaikoja ei välttämättä ole saatavilla.\n          ")]),n("br"),n("p",{staticClass:"app__info__container__content__disclaimer"},[e._v("\n            Ravintoloiden sijainti kartalla on suuntaa antava ja se pohjautuu ravintoloiden Kelalle antamaan osoitteistoon.\n          ")])]):e._e()]),n("i",{staticClass:"fa fa-info app__info__container__icon"})],1)]),n("SearchBar",{staticClass:"app__search_bar",model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}}),n("Map",{ref:"map",attrs:{boundsProp:e.bounds,restaurants:e.restaurantArray}})],1)},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app__header"},[a("div",{staticClass:"app__header__image"},[a("img",{attrs:{src:n("31f7")}})])])}],s=(n("ac4d"),n("8a81"),n("6762"),n("2fdb"),n("ac6a"),n("d225")),o=n("b0b4"),c=n("308d"),u=n("6bb5"),l=n("4e2b"),h=n("9ab4"),d=n("60a3"),p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"map"},[n("LMap",{ref:"map",staticStyle:{height:"100%",width:"100%"},attrs:{zoom:e.zoom,center:e.center,options:e.options,bounds:e.bounds},on:{"update:zoom":e.zoomUpdated,"update:center":e.centerUpdated,"update:bounds":e.boundsUpdated}},[n("LTileLayer",{attrs:{url:e.url}}),n("Vue2LeafletMarkerCluster",{ref:"cluster"},e._l(e.restaurantList,function(e){return n("RestaurantMarker",{key:e.title,ref:"restaurant_marker",refInFor:!0,attrs:{restaurant:e}})}),1),e.accessUserLocation?n("LMarker",{ref:"userLocation",attrs:{"lat-lng":e.userLocation}}):e._e()],1)],1)},f=[],m=n("e11e"),v=n("2699"),b=n("a40a"),g=n("4e2b6"),k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("LMarker",{ref:"marker",attrs:{"lat-lng":e.convertLatLng(e.restaurant.location)},on:{click:e.clickHandler}},[n("l-popup",[n("Popup",{attrs:{restaurant:e.restaurant,loadMenu:e.loadMenu}})],1)],1)},_=[],y=n("f60f"),A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"popup"},[e.hasTime?n("div",{staticClass:"popup__label__lunchtime"},[e._v("Lounasaika: "+e._s(e.lunchTime))]):e._e(),n("div",{staticClass:"popup__label__title"},[e._v(e._s(e.title))]),n("div",{staticClass:"popup__label__address"},[e._v("Osoite: "+e._s(e.restaurant.address))]),e.hasMenu?n("div",{staticClass:"popup__menu"},e._l(e.lunchMenu,function(e){return n("AccordionItem",{key:e.Name,attrs:{lunchMenuItem:e}})}),1):e._e(),e.isLoading?n("div",{staticClass:"popup__loading"},[n("i",{staticClass:"fa fa-spinner fa-spin"})]):e._e()])},j=[],w=(n("7f7f"),n("28a5"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"incredient"},[n("div",{staticClass:"incredient__container",class:{expanded:e.showFullIncredients}},e._l(e.item.Components,function(t){return n("div",{key:t,staticClass:"incredient__ingredients__item",domProps:{innerHTML:e._s(t)}})}),0)])}),O=[],M=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.showFullIncredients=!0,e}return Object(l["a"])(t,e),t}(d["c"]);Object(h["a"])([Object(d["b"])()],M.prototype,"item",void 0),M=Object(h["a"])([d["a"]],M);var C=M,I=C,U=(n("70ce"),n("2877")),T=Object(U["a"])(I,w,O,!1,null,"00e10606",null),B=T.exports,P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"accordion_item"},[a("div",{staticClass:"accordion_item__header",on:{click:function(t){e.isOpen=!e.isOpen}}},[a("div",{staticClass:"accordion_item__header__icon",class:{open:e.isOpen}},[a("img",{attrs:{src:n("c5d4")}})]),a("div",{staticClass:"accordion_item__header__title"},[a("div",{staticClass:"title"},[e._v(e._s(e.lunchMenuItem.Name))]),a("div",{staticClass:"price"},[e._v(e._s(e.lunchMenuItem.Price))])])]),a("transition",{attrs:{name:"accordion"},on:{"before-enter":e.beforeEnter,enter:e.enter,"before-leave":e.beforeLeave,leave:e.leave}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.isOpen,expression:"isOpen"}],staticClass:"accordion_item__contents"},e._l(e.lunchMenuItem.Components,function(t){return a("div",{key:t,staticClass:"accordion_item__contents__item",domProps:{innerHTML:e._s(t)}})}),0)])],1)},D=[],x=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.isOpen=!1,e}return Object(l["a"])(t,e),Object(o["a"])(t,[{key:"beforeEnter",value:function(e){e.style.height="0"}},{key:"enter",value:function(e){this.$nextTick(function(){e.style.height=e.scrollHeight+"px"})}},{key:"beforeLeave",value:function(e){e.style.height=e.scrollHeight+"px"}},{key:"leave",value:function(e){e.style.height="0"}}]),t}(d["c"]);Object(h["a"])([Object(d["b"])()],x.prototype,"lunchMenuItem",void 0),x=Object(h["a"])([d["a"]],x);var R=x,S=R,E=(n("24d2"),Object(U["a"])(S,P,D,!1,null,"d8c6156a",null)),z=E.exports,H=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.lunchMenu=[],e.lunchTime="",e.title=e.restaurant.title,e.hasMenu=!0,e.hasTime=!0,e.isLoading=!0,e}return Object(l["a"])(t,e),Object(o["a"])(t,[{key:"fetchLuchMenu",value:function(e){return fetch("https://akalhainen.me/"+e).then(function(e){return e.json()},function(e){console.error(e)})}},{key:"getDate",value:function(e,t,n){var a=t.toLowerCase(),i=a.split(n),r=e.split(n),s=i.indexOf("mm"),o=i.indexOf("dd"),c=i.indexOf("yyyy"),u=parseInt(r[s]);u-=1;var l=new Date(parseInt(r[c]),u,parseInt(r[o]));return l}},{key:"parseFazer",value:function(e){e.MenusForDays||(this.hasMenu=!1,this.hasTime=!1);var t=e.MenusForDays.filter(function(e){return new Date(e.Date).getDate()===(new Date).getDate()})[0];t?(this.lunchMenu=t.SetMenus,t.LunchTime?this.lunchTime=t.LunchTime:this.hasTime=!1):(this.hasMenu=!1,this.hasTime=!1),this.lunchMenu.length<1&&(this.hasMenu=!1),this.title=e.RestaurantName}},{key:"parseUnicafe",value:function(e){var t,n=this;if(t=this.title.toLowerCase().includes("soc & kom")?e.filter(function(e){return e.menuData.name.toLowerCase().includes("soc&kom")})[0]:e.filter(function(e){return n.title.toLowerCase().includes(e.menuData.name.toLowerCase())})[0],!t)return this.hasMenu=!1,void(this.hasTime=!1);var a=(new Date).getFullYear(),i=t.menuData.menus.filter(function(e){var t=e.date.split(" ")[1]+a,i=n.getDate(t,"dd.mm.yyyy",".");return i.getDate()===(new Date).getDate()})[0].data;this.title=t.title;var r=t.menuData.visitingHours.lounas.items;(new Date).getDay();r?this.lunchTime=r[0].label+" "+r[0].hours+", "+r[1].label+" "+r[1].hours:(this.lunchTime="",this.hasTime=!1);var s=[];i.forEach(function(e){var t={Price:"",Components:[""],Name:""};t.Components=[e.ingredients],t.Price="Opiskelija: "+e.price.value.student,t.Name=e.name,s.push(t)}),this.lunchMenu=s,this.lunchMenu.length<1&&(this.hasMenu=!1)}},{key:"parseSodexo",value:function(e){e.menus||(this.hasMenu=!1,this.hasTime=!1);var t=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],n=t[(new Date).getDay()],a=[];e.menus[n]&&(e.menus[n].forEach(function(e){var t={Price:"",Components:[""],Name:""};t.Components=[e.properties],t.Price=e.price,t.Name=e.title_fi,a.push(t)}),this.lunchMenu=a,this.title=e.meta.ref_title,this.lunchTime="",this.hasTime=!1),this.lunchMenu.length<1&&(this.hasMenu=!1,this.hasTime=!1)}},{key:"parseJuvenes",value:function(e){var t=this;e.MealOptions||(this.hasMenu=!1,this.hasTime=!1),fetch(this.restaurant.website).then(function(e){return e.json()},function(e){console.error(e)}).then(function(n){var a=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],i=a[(new Date).getDay()],r=[];e.MealOptions.forEach(function(e){if(-1!==e.MealOptionId){var t={Price:"",Components:[""],Name:""};t.Components=e.MenuItems[0]?[e.MenuItems[0].Incredients]:[],t.Price="",t.Name=e.Name_FI,r.push(t)}}),t.lunchMenu=r,t.title=e.KitchenName;var s="".concat(i,"Start"),o="".concat(i,"End");t.lunchTime=n.d.OpenInfo[s]+" - "+n.d.OpenInfo[o],t.lunchMenu.length<1&&(t.hasMenu=!1,t.hasTime=!1)})}},{key:"parseMehtimaki",value:function(e){this.hasTime=!1,this.lunchMenu=e}},{key:"parseHel",value:function(e){var t=e.Days.filter(function(e){return new Date(e.Date).getDate()===(new Date).getDate()})[0],n=[];t.Meals.forEach(function(e){var t={Price:"",Components:[""],Name:""};t.Components=e.Nutritions.map(function(e){return e.Name}),t.Price=e.price,t.Name=e.Name,n.push(t)}),this.lunchMenu=n,this.hasTime=!1,this.lunchMenu.length<1&&(this.hasMenu=!1)}},{key:"parseUnica",value:function(e){var t=e.menu,n=e.openingHours;this.lunchMenu=t,this.lunchTime=n,0===this.lunchMenu.length&&(this.hasMenu=!1),""===this.lunchTime&&(this.hasTime=!1)}}]),t}(d["c"]);Object(h["a"])([Object(d["b"])()],H.prototype,"restaurant",void 0),Object(h["a"])([Object(d["b"])()],H.prototype,"loadMenu",void 0),H=Object(h["a"])([Object(d["a"])({components:{Incredient:B,AccordionItem:z},watch:{loadMenu:function(e,t){var n=this;!t&&e&&(this.restaurant.lunchUrl?this.fetchLuchMenu(this.restaurant.lunchUrl).then(function(e){switch(n.isLoading=!1,n.restaurant.type){case"fazer":n.parseFazer(e);break;case"unicafe":n.parseUnicafe(e);break;case"sodexo":n.parseSodexo(e);break;case"juvenes":n.parseJuvenes(e);break;case"mehtimakiravintolat":n.parseMehtimaki(e);break;case"semma":n.parseFazer(e);break;case"hel":n.parseHel(e);break;case"unica":n.parseUnica(e)}}):(this.isLoading=!1,this.hasMenu=!1,this.hasTime=!1))}}})],H);var N=H,F=N,Y=(n("fcef"),Object(U["a"])(F,A,j,!1,null,null,null)),K=Y.exports,J=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.loadMenu=!1,e}return Object(l["a"])(t,e),Object(o["a"])(t,[{key:"mounted",value:function(){}},{key:"clickHandler",value:function(){this.loadMenu=!0}},{key:"convertLatLng",value:function(e){return Object(m["latLng"])(e.lat,e.lng)}},{key:"marker",get:function(){return this.$refs.marker.mapObject}}]),t}(d["c"]);Object(h["a"])([Object(d["b"])()],J.prototype,"restaurant",void 0),J=Object(h["a"])([Object(d["a"])({components:{LMarker:g["a"],LPopup:y["a"],Popup:K}})],J);var V=J,Z=V,Q=Object(U["a"])(Z,k,_,!1,null,"4c291c26",null),G=Q.exports,q=n("ca9f"),W=n.n(q),X=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.url="https://api.tiles.mapbox.com/v4/mapbox.streets/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw",e.zoom=14,e.center=[60.167255,24.940523],e.bounds=null,e.showParagraph=!1,e.testFilter=!1,e.options={zoomControl:!1},e.accessUserLocation=!1,e.userLocation=null,e}return Object(l["a"])(t,e),Object(o["a"])(t,[{key:"created",value:function(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px")),window.addEventListener("resize",function(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"))}),delete m["Icon"].Default.prototype._getIconUrl,m["Icon"].Default.imagePath="/",m["Icon"].Default.mergeOptions({iconRetinaUrl:n("3c1a"),iconUrl:n("3c1a"),shadowUrl:""})}},{key:"mounted",value:function(){var e=this;this.$nextTick(function(){e.$refs.cluster.mapObject.options.iconCreateFunction=e.test}),navigator.geolocation&&navigator.geolocation.getCurrentPosition(this.setPosition),this.$refs.map.mapObject.locate({watch:!0,enableHighAccuracy:!0}).on("locationfound",function(t){e.userLocation=e.convertLatLng(t.latitude,t.longitude),e.accessUserLocation||(e.accessUserLocation=!0,e.$nextTick(function(){var t=e.$refs.userLocation.mapObject,a=L.Icon.extend({options:{iconUrl:n("e6b6"),iconSize:[20,20],shadowAnchor:[8,20],shadowSize:[25,18],iconAnchor:[8,30]}});t.setIcon(new a),t._icon.classList.add("user_location")}))})}},{key:"test",value:function(e){e.getChildCount();var t='<div class="carrot"></div>';return new m["DivIcon"]({html:t,className:"marker-cluster",iconSize:new m["Point"](50,50)})}},{key:"setPosition",value:function(e){this.center=[e.coords.latitude,e.coords.longitude],this.zoom=14}},{key:"convertLatLng",value:function(e,t){return Object(m["latLng"])(e,t)}},{key:"markers",get:function(){return this.$refs.restaurant_marker}},{key:"restaurantList",get:function(){var e=this.restaurants.filter(function(e){return e.location});return e}}]),t}(d["c"]);Object(h["a"])([Object(d["b"])()],X.prototype,"restaurants",void 0),Object(h["a"])([Object(d["b"])()],X.prototype,"boundsProp",void 0),X=Object(h["a"])([Object(d["a"])({components:{LMap:v["a"],LTileLayer:b["a"],LMarker:g["a"],RestaurantMarker:G,Vue2LeafletMarkerCluster:W.a},methods:{zoomUpdated:function(e){this.zoom=e},centerUpdated:function(e){this.center=e},boundsUpdated:function(e){this.bounds=e}},watch:{boundsProp:function(e){this.bounds=e}}})],X);var $=X,ee=$,te=(n("894b"),Object(U["a"])(ee,p,f,!1,null,null,null)),ne=te.exports,ae=function(){function e(t,n,a,i,r,o){if(Object(s["a"])(this,e),this._title=t,this._address=n,this._location=a,this._website=i,this._type=r,this._lunchUrl=o,this.location){this._marker=L.marker([+this.location.lat,+this.location.lng]);var c=this.website?"<p>"+this.title+'</p><br><a href="'+this.website+'">Ruokalista</a>':"<p>"+this.title+"</p>";this._marker.bindPopup(c)}}return Object(o["a"])(e,[{key:"addMarkerToMap",value:function(e){this._marker&&(this._map=e,this._marker.addTo(e))}},{key:"hideMarker",value:function(){this._marker&&this._marker.remove()}},{key:"showMarker",value:function(){(this._map||this._marker)&&this._marker.addTo(this._map)}},{key:"title",get:function(){return this._title}},{key:"type",get:function(){return this._type}},{key:"address",get:function(){return this._address}},{key:"location",get:function(){return this._location}},{key:"website",get:function(){return this._website}},{key:"lunchUrl",get:function(){return this._lunchUrl}}]),e}(),ie=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"search_bar",class:{expanded:e.open}},[n("div",{staticClass:"search_bar__container"},[e.open?n("input",{staticClass:"search_bar__container__input",attrs:{placeholder:"Hae ravintolaa nimellä tai osoitteella"},domProps:{value:e.keywords},on:{input:function(t){e.keywords=t.target.value}}}):e._e(),n("div",{staticClass:"search_bar__container__icon",on:{click:function(t){e.open=!e.open}}},[e.open?n("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}}):n("i",{staticClass:"fa fa-search",attrs:{"aria-hidden":"true"}})])])])},re=[],se=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.keywords="",e.open=!1,e}return Object(l["a"])(t,e),t}(d["c"]);Object(h["a"])([Object(d["b"])()],se.prototype,"value",void 0),se=Object(h["a"])([Object(d["a"])({watch:{keywords:function(e){this.$emit("input",e)}}})],se);var oe=se,ce=oe,ue=(n("224d"),Object(U["a"])(ce,ie,re,!1,null,"2643cf2f",null)),le=ue.exports,he=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.restaurantList=[],e.restaurantArray=[],e.timeout=0,e.showInformation=!1,e.content=0,e.keywords="",e.bounds=null,e}return Object(l["a"])(t,e),Object(o["a"])(t,[{key:"getRestaurants",value:function(){return fetch("https://akalhainen.me/ruokalistat/restaurants.json").then(function(e){return e.json()})}},{key:"informationClickHanler",value:function(e){this.content=this.content+1,this.showInformation=!this.showInformation}},{key:"created",value:function(){var e=this;this.getRestaurants().then(function(t){t.forEach(function(t){var n=new ae(t.title,t.address,t.location,t.website,t.type,t.lunchUrl);e.restaurantList.push(n),e.restaurantArray.push(n)})}),document.addEventListener("swUpdated",this.updateApp,{once:!0})}},{key:"updateApp",value:function(e){console.log("Deploying update..")}}]),t}(d["c"]);he=Object(h["a"])([Object(d["a"])({components:{Map:ne,SearchBar:le},watch:{keywords:function(e){var t=this;this.restaurantArray=this.restaurantList.filter(function(t){return!(!t.title||!t.address)&&(!!t.title.toLowerCase().includes(e.toLowerCase())||!!t.address.toLowerCase().includes(e.toLowerCase()))}),this.$nextTick(function(){var e=L.markerClusterGroup(),n=!0,a=!1,i=void 0;try{for(var r,s=t.$refs.map.markers[Symbol.iterator]();!(n=(r=s.next()).done);n=!0){var o=r.value;e.addLayer(o.marker)}}catch(u){a=!0,i=u}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}var c=e.getBounds();t.bounds=c})}}})],he);var de=he,pe=de,fe=(n("5c0b"),Object(U["a"])(pe,i,r,!1,null,null,null)),me=fe.exports,ve=n("2f62");a["default"].use(ve["a"]);var be=new ve["a"].Store({state:{unicafeMenu:void 0},mutations:{unicafeMenu:function(e,t){e.unicafeMenu=t}},getters:{unicafeMenu:function(e){return e.unicafeMenu}},actions:{}}),ge=n("9483");Object(ge["a"])("".concat("","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(e){document.dispatchEvent(new CustomEvent("swUpdated",{detail:e})),console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var ke=n("ce5b"),_e=n.n(ke);a["default"].use(_e.a),a["default"].config.productionTip=!1,new a["default"]({store:be,render:function(e){return e(me)}}).$mount("#app")},e332:function(e,t,n){},e6b6:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAgVBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABmZmbi4uL19fX6+vr9/f3///+5ubn19fX+/v7///93d3fy8vL///8AAAD6+vrj7f+oyP91qf9fm/9Mj//V1dX9/f3Z5/90qP9Eiv/V1dX8/f+Su//y9/9zp/8AAADi7f9Nj//+/v6Tu/9lGkhfAAAAKnRSTlMAAQIDBAYICQ9Qm8Pb8yGc8v8PifQFy///////N+X///82/////wf///OZxQPYAAABLUlEQVR4Ae2VRYIDMQwEVx57mCrMzP//3zIOZKOcU2eV2a2n+3ggIuYdEbml2njW+cErvrOe+c8RY10YxUmaZWkSR6GzRq4O77m8KPmmLHLniVwZvtPt8Ydet9M6iZh+PgAYjsaT6XQyHg0BBnnfSEv9bA4slqtvlgtgvm42xOZz2GxXf9huYJ7bBkG8zgB2+1WF/Q4GHU/qC3Jd2LzW14wNdJ2R+oJ6sF01sIVefVHmUMBi1cgCioOp7iAsYdksLKEMPamsKILjqoUhRLYiuBhGbcIIYvdXMH4C4zZhDIlv/gpBCpM2YQJpUBUymLYJU8iahFObcIJzoF+SftP6Y1VenPppaB/f7c/70vi81R9I/UX1IaCPmZ8gOzYHmT4q9WGsj3t9Q9G0rAcKXgCv6VywhFE6NwAAAABJRU5ErkJggg=="},f1ef:function(e,t,n){},fcef:function(e,t,n){"use strict";var a=n("f1ef"),i=n.n(a);i.a}});
//# sourceMappingURL=app.a154b251.js.map